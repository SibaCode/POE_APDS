{"ast":null,"code":"import React,{useState}from'react';import'./../customer/css/RegisterPage.css';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RegisterPage(){const navigate=useNavigate();const[formData,setFormData]=useState({fullName:'',accountNumber:'',password:'',idNumber:''});const[errors,setErrors]=useState({});const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));setErrors(prev=>({...prev,[name]:null}));};const handleSubmit=async e=>{e.preventDefault();const fullNameRegex=/^[A-Za-z\\s]{2,50}$/;const accountNumberRegex=/^[0-9]{6,20}$/;const idNumberRegex=/^[0-9]{6,20}$/;if(!fullNameRegex.test(formData.fullName)){setErrors({FullName:['Full Name is invalid. Only letters and spaces are allowed.']});return;}if(!accountNumberRegex.test(formData.accountNumber)){setErrors({AccountNumber:['Account Number must be digits only.']});return;}if(!idNumberRegex.test(formData.idNumber)){setErrors({IdNumber:['ID Number must be digits only.']});return;}if(formData.password.length<6){setErrors({Password:['Password must be at least 6 characters long.']});return;}const registrationData={...formData};try{const response=await fetch('https://sibapayment-cubwerbvhzfpbmg8.southafricanorth-01.azurewebsites.net/api/Customers/Register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(registrationData)});if(response.ok){navigate('/login');}else{const errorData=await response.json();if(errorData.errors){setErrors(errorData.errors);}else{alert(errorData.message||'Registration failed');}}}catch(err){alert('Something went wrong testSiba.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"register-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Customer Registration\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"register-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"fullName\",value:formData.fullName,onChange:handleChange}),errors.FullName&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.FullName[0]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Account Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"accountNumber\",value:formData.accountNumber,onChange:handleChange}),errors.AccountNumber&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.AccountNumber[0]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"ID Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"idNumber\",value:formData.idNumber,onChange:handleChange}),errors.IdNumber&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.IdNumber[0]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleChange}),errors.Password&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.Password[0]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"register-btn\",children:\"Register\"})]})]});}export default RegisterPage;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","RegisterPage","navigate","formData","setFormData","fullName","accountNumber","password","idNumber","errors","setErrors","handleChange","e","name","value","target","prev","handleSubmit","preventDefault","fullNameRegex","accountNumberRegex","idNumberRegex","test","FullName","AccountNumber","IdNumber","length","Password","registrationData","response","fetch","method","headers","body","JSON","stringify","ok","errorData","json","alert","message","err","className","children","onSubmit","type","onChange"],"sources":["/home/sibahle/Desktop/Rosebank 2025/POE_APDS/frontend/src/components/customer/RegisterPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './../customer/css/RegisterPage.css';\nimport { useNavigate } from 'react-router-dom';\n\nfunction RegisterPage() {\n  const navigate = useNavigate();\n\n  const [formData, setFormData] = useState({\n    fullName: '',\n    accountNumber: '',\n    password: '',\n    idNumber: '',\n  });\n\n  const [errors, setErrors] = useState({});\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n    setErrors(prev => ({ ...prev, [name]: null }));  \n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n  \n    const fullNameRegex = /^[A-Za-z\\s]{2,50}$/;\n    const accountNumberRegex = /^[0-9]{6,20}$/;\n    const idNumberRegex = /^[0-9]{6,20}$/;\n  \n    if (!fullNameRegex.test(formData.fullName)) {\n      setErrors({ FullName: ['Full Name is invalid. Only letters and spaces are allowed.'] });\n      return;\n    }\n  \n    if (!accountNumberRegex.test(formData.accountNumber)) {\n      setErrors({ AccountNumber: ['Account Number must be digits only.'] });\n      return;\n    }\n  if (!idNumberRegex.test(formData.idNumber)) {\n      setErrors({ IdNumber: ['ID Number must be digits only.'] });\n      return;\n    }\n  \n    if (formData.password.length < 6) {\n      setErrors({ Password: ['Password must be at least 6 characters long.'] });\n      return;\n    }\n  \n    const registrationData = { ...formData };\n  \n    try {\n      const response = await fetch('https://sibapayment-cubwerbvhzfpbmg8.southafricanorth-01.azurewebsites.net/api/Customers/Register', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(registrationData),\n      });\n  \n      if (response.ok) {\n        navigate('/login');\n      } else {\n        const errorData = await response.json();\n        if (errorData.errors) {\n          setErrors(errorData.errors);\n        } else {\n          alert(errorData.message || 'Registration failed');\n        }\n      }\n    } catch (err) {\n      alert('Something went wrong testSiba.');\n    }\n  };\n  \n\n  return (\n    <div className=\"register-container\">\n      <h2>Customer Registration</h2>\n      <form onSubmit={handleSubmit} className=\"register-form\">\n        <div className=\"form-group\">\n          <label>Full Name</label>\n          <input\n            type=\"text\"\n            name=\"fullName\"\n            value={formData.fullName}\n            onChange={handleChange}\n          />\n          {errors.FullName && <div className=\"error-message\">{errors.FullName[0]}</div>}\n        </div>\n\n        <div className=\"form-group\">\n          <label>Account Number</label>\n          <input\n            type=\"number\"\n            name=\"accountNumber\"\n            value={formData.accountNumber}\n            onChange={handleChange}\n          />\n          {errors.AccountNumber && <div className=\"error-message\">{errors.AccountNumber[0]}</div>}\n        </div>\n\n        <div className=\"form-group\">\n          <label>ID Number</label>\n          <input\n            type=\"number\"\n            name=\"idNumber\"\n            value={formData.idNumber}\n            onChange={handleChange}\n          />\n          {errors.IdNumber && <div className=\"error-message\">{errors.IdNumber[0]}</div>}\n        </div>\n\n        <div className=\"form-group\">\n          <label>Password</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={formData.password}\n            onChange={handleChange}\n          />\n          {errors.Password && <div className=\"error-message\">{errors.Password[0]}</div>}\n        </div>\n\n        <button type=\"submit\" className=\"register-btn\">Register</button>\n      </form>\n    </div>\n  );\n}\n\nexport default RegisterPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}